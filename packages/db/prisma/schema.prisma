generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id      String    @id @default(uuid())
  email   String
  Website Website[]
}

model Website {
  id     String         @id @default(uuid())
  url    String
  userId String
  User   User           @relation(fields: [userId], references: [id])
  ticks  WebsiteTicks[]
}

model Validator {
  id        String         @id @default(uuid())
  publicKey String
  location  String
  ip        String
  ticks     WebsiteTicks[]
}

model WebsiteTicks {
  id          String        @id @default(uuid())
  websiteId   String
  validatorId String
  createdAt   DateTime      @default(now())
  status      WebsiteStatus
  latency     Float
  Website     Website       @relation(fields: [websiteId], references: [id])
  Validator   Validator     @relation(fields: [validatorId], references: [id])
}

enum WebsiteStatus {
  Good
  Bad
}
